<div class="dashboard-container" style="background: #f5f7fa; min-height: 100vh; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
    <!-- Navigation Bar -->
    <nav style="background: #2c3e50; padding: 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        <div style="max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 15px 20px;">
            <div style="display: flex; align-items: center;">
                <h2 style="color: white; margin: 0; font-size: 24px;">⚙️ Admin Portal</h2>
            </div>
            <div style="display: flex; gap: 20px; align-items: center;">
                <a ui-sref="admin" style="color: #bdc3c7; text-decoration: none; font-weight: 500; padding: 8px 15px; border-radius: 5px;">Dashboard</a>
                <a ui-sref="admin.courses" style="color: #bdc3c7; text-decoration: none; font-weight: 500; padding: 8px 15px; border-radius: 5px;">Courses</a>
                <a ui-sref="admin.students" style="color: #bdc3c7; text-decoration: none; font-weight: 500; padding: 8px 15px; border-radius: 5px;">Students</a>
                <a ui-sref="admin.professors" style="color: #bdc3c7; text-decoration: none; font-weight: 500; padding: 8px 15px; border-radius: 5px;">Professors</a>
                <a ui-sref="admin.reports" style="color: #3498db; text-decoration: none; font-weight: 500; padding: 8px 15px; border-radius: 5px; background: rgba(255,255,255,0.1);">Reports</a>
                <button ng-click="logout()" style="background: #c0392b; color: white; border: none; padding: 8px 20px; border-radius: 5px; cursor: pointer; font-weight: 600;">Sign Out</button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div style="max-width: 1200px; margin: 0 auto; padding: 30px 20px;">
        <h2 style="color: #333; margin-bottom: 20px;">Academic Reports & Analytics</h2>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px;">

            <!-- Department Performance -->
            <div style="background: white; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); padding: 25px;">
                <h3 style="margin-top: 0; color: #333; border-bottom: 1px solid #eee; padding-bottom: 10px;">Department Statistics</h3>
                <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
                    <thead>
                        <tr style="background: #f8f9fa;">
                            <th style="padding: 10px; text-align: left; font-size: 13px;">Department</th>
                            <th style="padding: 10px; text-align: center; font-size: 13px;">Courses</th>
                            <th style="padding: 10px; text-align: center; font-size: 13px;">Students</th>
                            <th style="padding: 10px; text-align: center; font-size: 13px;">Utilization</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="(dept, data) in getDepartmentStats()" style="border-bottom: 1px solid #eee;">
                            <td style="padding: 10px; font-weight: 600; color: #555;">{{dept}}</td>
                            <td style="padding: 10px; text-align: center;">{{data.courses}}</td>
                            <td style="padding: 10px; text-align: center;">{{data.students}}</td>
                            <td style="padding: 10px; text-align: center;">
                                <span style="font-weight: 600;" ng-class="{'text-success': (data.students/data.totalCapacity) > 0.7, 'text-warning': (data.students/data.totalCapacity) < 0.3}">
                                    {{data.totalCapacity > 0 ? ((data.students / data.totalCapacity) * 100 | number:0) : 0}}%
                                </span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Enrollment Health -->
            <div style="background: white; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); padding: 25px;">
                <h3 style="margin-top: 0; color: #333; border-bottom: 1px solid #eee; padding-bottom: 10px;">Course Enrollment Health</h3>

                <div style="margin-top: 20px;">
                    <div ng-repeat="course in courses | limitTo: 6" style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px; font-size: 13px;">
                            <span><strong>{{course.code}}</strong>: {{course.name}}</span>
                            <span>{{course.enrolled}}/{{course.capacity}}</span>
                        </div>
                        <div style="background: #eee; height: 8px; border-radius: 4px; overflow: hidden;">
                            <div style="height: 100%;"
                                 ng-style="{'width': getEnrollmentRate(course) + '%', 'background': getEnrollmentRate(course) > 90 ? '#e74c3c' : (getEnrollmentRate(course) > 50 ? '#2ecc71' : '#f1c40f')}">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Full Course Report -->
         <div style="background: white; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); padding: 25px;">
            <h3 style="margin-top: 0; color: #333; border-bottom: 1px solid #eee; padding-bottom: 10px;">Full Enrollment Report</h3>
             <table style="width: 100%; border-collapse: collapse; margin-top: 15px; font-size: 14px;">
                <thead>
                    <tr style="background: #f8f9fa;">
                        <th style="padding: 12px; text-align: left;">Course Code</th>
                        <th style="padding: 12px; text-align: left;">Course Name</th>
                        <th style="padding: 12px; text-align: left;">Professor</th>
                        <th style="padding: 12px; text-align: center;">Capacity</th>
                        <th style="padding: 12px; text-align: center;">Enrolled</th>
                        <th style="padding: 12px; text-align: center;">Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="course in courses" style="border-bottom: 1px solid #eee;">
                        <td style="padding: 12px; font-weight: 600; color: #3498db;">{{course.code}}</td>
                        <td style="padding: 12px;">{{course.name}}</td>
                        <td style="padding: 12px;">{{course.professorName}}</td>
                        <td style="padding: 12px; text-align: center;">{{course.capacity}}</td>
                        <td style="padding: 12px; text-align: center;">{{course.enrolled}}</td>
                        <td style="padding: 12px; text-align: center;">
                            <span ng-if="course.enrolled >= course.capacity" style="background: #f8d7da; color: #721c24; padding: 3px 8px; border-radius: 10px; font-size: 11px; font-weight: 600;">FULL</span>
                            <span ng-if="course.enrolled < course.capacity && course.enrolled > course.capacity * 0.5" style="background: #d4edda; color: #155724; padding: 3px 8px; border-radius: 10px; font-size: 11px; font-weight: 600;">HEALTHY</span>
                            <span ng-if="course.enrolled <= course.capacity * 0.5" style="background: #fff3cd; color: #856404; padding: 3px 8px; border-radius: 10px; font-size: 11px; font-weight: 600;">LOW</span>
                        </td>
                    </tr>
                </tbody>
            </table>
         </div>
    </div>
</div>

