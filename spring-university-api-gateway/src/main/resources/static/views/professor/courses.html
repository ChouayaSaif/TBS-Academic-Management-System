<div class="dashboard-container" style="background: #f5f7fa; min-height: 100vh; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
    <!-- Navigation Bar -->
    <nav style="background: white; border-bottom: 1px solid #e0e0e0; padding: 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        <div style="max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 15px 20px;">
            <h2 style="color: #f39c12; margin: 0; font-size: 24px;">ðŸŽ“ TBS University - Professor Portal</h2>
            <div style="display: flex; gap: 20px; align-items: center;">
                <a ui-sref="professor.dashboard" style="color: #333; text-decoration: none; font-weight: 500; padding: 8px 15px; border-radius: 5px;">Dashboard</a>
                <a ui-sref="professor.courses" style="color: #f39c12; text-decoration: none; font-weight: 500; padding: 8px 15px; border-radius: 5px; border-bottom: 3px solid #f39c12;">My Courses</a>
                <a ui-sref="professor.schedule" style="color: #333; text-decoration: none; font-weight: 500; padding: 8px 15px; border-radius: 5px;">Schedule</a>
                <a ui-sref="professor.profile" style="color: #333; text-decoration: none; font-weight: 500; padding: 8px 15px; border-radius: 5px;">Profile</a>
                <button ng-click="logout()" style="background: #e74c3c; color: white; border: none; padding: 8px 20px; border-radius: 5px; cursor: pointer; font-weight: 600;">Sign Out</button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div style="max-width: 1200px; margin: 0 auto; padding: 30px 20px;">
        <h2 style="color: #333; margin-bottom: 20px;">Course Management</h2>

        <div ng-if="message" class="alert" ng-class="'alert-' + message.type" style="margin-bottom: 20px; padding: 15px; border-radius: 5px;"
             ng-style="message.type === 'success' ? {'background': '#d4edda', 'color': '#155724'} : {'background': '#f8d7da', 'color': '#721c24'}">
            {{message.text}}
        </div>

        <!-- Course List -->
        <div style="background: white; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); overflow: hidden;">
            <table style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="background: #f8f9fa; border-bottom: 2px solid #e0e0e0;">
                        <th style="padding: 15px; text-align: left; color: #333; font-weight: 600;">Code</th>
                        <th style="padding: 15px; text-align: left; color: #333; font-weight: 600;">Course Name</th>
                        <th style="padding: 15px; text-align: center; color: #333; font-weight: 600;">Credits</th>
                        <th style="padding: 15px; text-align: left; color: #333; font-weight: 600;">Schedule</th>
                        <th style="padding: 15px; text-align: center; color: #333; font-weight: 600;">Enrolled / Cap</th>
                        <th style="padding: 15px; text-align: center; color: #333; font-weight: 600;">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="course in courses" style="border-bottom: 1px solid #eee;">
                        <td style="padding: 15px; color: #f39c12; font-weight: 600;">{{course.code}}</td>
                        <td style="padding: 15px; font-weight: 500;">{{course.name}}</td>
                        <td style="padding: 15px; text-align: center;">{{course.credits}}</td>
                        <td style="padding: 15px;">{{course.schedule}}</td>
                        <td style="padding: 15px; text-align: center;">
                            <div style="width: 100px; height: 10px; background: #eee; border-radius: 5px; margin: 0 auto 5px; overflow: hidden;">
                                <div style="height: 100%; background: #27ae60;" ng-style="{'width': getEnrollmentRate(course) + '%'}"></div>
                            </div>
                            <span style="font-size: 12px; color: #666;">{{course.enrolled}} / {{course.capacity}} ({{getEnrollmentRate(course)}}%)</span>
                        </td>
                        <td style="padding: 15px; text-align: center;">
                            <div style="display: flex; gap: 5px; justify-content: center;">
                                <button ng-click="editCourse(course)" style="background: #3498db; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; font-size: 13px;">Edit</button>
                                <a ui-sref="professor.students({courseId: course.id})" style="background: #2ecc71; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; font-size: 13px; text-decoration: none;">Students</a>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Edit Modal (Simple overlay) -->
        <div ng-if="editingCourse" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 100;">
            <div style="background: white; width: 500px; padding: 30px; border-radius: 10px; box-shadow: 0 5px 20px rgba(0,0,0,0.2);">
                <h3 style="margin-top: 0; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 10px;">Edit Course: {{editingCourse.code}}</h3>

                <form ng-submit="saveCourse()">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600;">Description</label>
                        <textarea ng-model="editingCourse.description" rows="3" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;"></textarea>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600;">Schedule</label>
                            <input type="text" ng-model="editingCourse.schedule" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600;">Room</label>
                            <input type="text" ng-model="editingCourse.room" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600;">Capacity</label>
                            <input type="number" ng-model="editingCourse.capacity" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600;">Min GPA</label>
                            <input type="number" step="0.1" ng-model="editingCourse.minGPA" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                        </div>
                    </div>

                    <div style="text-align: right; display: flex; gap: 10px; justify-content: flex-end;">
                        <button type="button" ng-click="cancelEdit()" style="background: #e0e0e0; color: #333; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">Cancel</button>
                        <button type="submit" style="background: #3498db; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
