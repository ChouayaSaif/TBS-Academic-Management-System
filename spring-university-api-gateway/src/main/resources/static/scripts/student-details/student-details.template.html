            </div>
        </div>

        <div class="card">
            <div class="card-header bg-success text-white">
                <span class="fa fa-book"></span> Registered Courses
            </div>
            <div class="card-body">
                <div ng-if="!$ctrl.student.courses || $ctrl.student.courses.length === 0" class="alert alert-warning">
                    <span class="fa fa-info-circle"></span> No courses registered yet.
                    <a ng-click="$ctrl.registerCourses()" class="alert-link" style="cursor:pointer;">Click here to register</a>
                </div>

                <table class="table table-striped" ng-if="$ctrl.student.courses && $ctrl.student.courses.length > 0">
                    <thead class="table-dark">
                        <tr>
                            <th>Course Code</th>
                            <th>Course Name</th>
                            <th>Professor</th>
                            <th>Time Slot</th>
                            <th>Credits</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="course in $ctrl.student.courses">
                            <td><span class="badge bg-primary">{{course.code}}</span></td>
                            <td>{{course.title}}</td>
                            <td>{{course.professorName}}</td>
                            <td>{{course.timeSlot}}</td>
                            <td>{{course.credits}}</td>
                            <td>
                                <button class="btn btn-sm btn-danger" ng-click="$ctrl.dropCourse(course.id)">
                                    <span class="fa fa-trash"></span> Drop
                                </button>
                            </td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr class="table-secondary">
                            <th colspan="4" class="text-end">Total Credits:</th>
                            <th colspan="2">{{$ctrl.student.totalCredits || 0}}</th>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>

        <div class="mt-3">
            <a ui-sref="students" class="btn btn-secondary">
                <span class="fa fa-arrow-left"></span> Back to Students
            </a>
        </div>
    </div>
</div>
<div class="container">
    <div ng-if="$ctrl.loading" class="text-center my-4">
        <span class="fa fa-spinner fa-spin fa-3x"></span>
        <p>Loading student details...</p>
    </div>

    <div ng-if="$ctrl.error" class="alert alert-danger">
        <span class="fa fa-exclamation-triangle"></span> {{$ctrl.error}}
    </div>

    <div ng-if="!$ctrl.loading && $ctrl.student">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2><span class="fa fa-user"></span> Student Details</h2>
            <div>
                <button class="btn btn-primary me-2" ng-click="$ctrl.editStudent()">
                    <span class="fa fa-edit"></span> Edit
                </button>
                <button class="btn btn-success" ng-click="$ctrl.registerCourses()" ng-if="$ctrl.canRegisterMore()">
                    <span class="fa fa-plus"></span> Register Courses
                </button>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="card mb-4">
                    <div class="card-header bg-primary text-white">
                        <span class="fa fa-id-card"></span> Personal Information
                    </div>
                    <div class="card-body">
                        <table class="table table-borderless">
                            <tr>
                                <th width="40%">Student ID:</th>
                                <td><span class="badge bg-secondary">{{$ctrl.student.studentId}}</span></td>
                            </tr>
                            <tr>
                                <th>Full Name:</th>
                                <td>{{$ctrl.student.firstName}} {{$ctrl.student.lastName}}</td>
                            </tr>
                            <tr>
                                <th>Email:</th>
                                <td><a href="mailto:{{$ctrl.student.email}}">{{$ctrl.student.email}}</a></td>
                            </tr>
                            <tr>
                                <th>Department:</th>
                                <td>{{$ctrl.student.department}}</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card mb-4">
                    <div class="card-header bg-info text-white">
                        <span class="fa fa-chart-pie"></span> Registration Status
                    </div>
                    <div class="card-body text-center">
                        <h1 class="display-4" ng-class="{'text-success': $ctrl.getCoursesCount() >= 6, 'text-warning': $ctrl.getCoursesCount() < 6}">
                            {{$ctrl.getCoursesCount()}} / 7
                        </h1>
                        <p class="text-muted">Courses Registered</p>
                        <div class="progress" style="height: 25px;">
                            <div class="progress-bar" role="progressbar"
                                 ng-style="{width: ($ctrl.getCoursesCount() / 7 * 100) + '%'}"
                                 ng-class="{'bg-success': $ctrl.getCoursesCount() >= 6, 'bg-warning': $ctrl.getCoursesCount() < 6}">
                                {{$ctrl.getCoursesCount()}} courses
                            </div>
                        </div>
                        <div class="mt-3" ng-if="$ctrl.getCoursesCount() < 6">
                            <span class="badge bg-warning text-dark">
                                <span class="fa fa-exclamation-triangle"></span>
                                Need at least {{6 - $ctrl.getCoursesCount()}} more course(s)
                            </span>
                        </div>
                        <div class="mt-3" ng-if="$ctrl.getCoursesCount() >= 6">
                            <span class="badge bg-success">
                                <span class="fa fa-check-circle"></span>
                                Minimum requirement met
                            </span>
                        </div>
                    </div>
                </div>

